<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;greyscale_config - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/greyscale_config.html#var">Var Details</a> - <a href="datum/greyscale_config.html#proc">Proc Details</a></header>
<main>
<h1>greyscale_config <aside>/<a href="datum.html">datum</a>/<a href="datum/greyscale_config.html">greyscale_config</a></aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L4">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 4"/></a></h1>

<p>A datum tying together a greyscale configuration and dmi file. Required for using GAGS and handles the code interactions.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/expected_colors">expected_colors</a></th><td>How many colors are expected to be given when building the sprite</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/height">height</a></th><td>Spritesheet height of the icon_file</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/icon_cache">icon_cache</a></th><td>Generated icons keyed by their color arguments</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/icon_file">icon_file</a></th><td>Reference to the dmi file for this config</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/icon_states">icon_states</a></th><td>A list of icon states and their layers</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/json_config">json_config</a></th><td>Reference to the json config file</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/material_skin">material_skin</a></th><td>An optional var to set that tells the material system what material this configuration is for.
Use a typepath here, not an instance.</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/name">name</a></th><td>User friendly name used in the debug menu</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/string_icon_file">string_icon_file</a></th><td>String path to the icon file, used for reloading</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/string_json_config">string_json_config</a></th><td>String path to the json file, used for reloading</td></tr>
            <tr><th><a href="datum/greyscale_config.html#var/width">width</a></th><td>Spritesheet width of the icon_file</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/CrossVerify">CrossVerify</a></th><td>Called after every config has refreshed, this proc handles data verification that depends on multiple entwined configurations.</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/DebugName">DebugName</a></th><td>Gets the name used for debug purposes</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/Generate">Generate</a></th><td>Actually create the icon and color it in, handles caching</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/GenerateBundle">GenerateBundle</a></th><td>Handles the actual icon manipulation to create the spritesheet</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/GenerateLayerGroup">GenerateLayerGroup</a></th><td>Internal recursive proc to handle nested layer groups</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/ReadIconStateConfiguration">ReadIconStateConfiguration</a></th><td>Takes the json icon state configuration and puts it into a more processed format.</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/ReadLayersFromJson">ReadLayersFromJson</a></th><td>Takes the json layers configuration and puts it into a more processed format</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/ReadMetadata">ReadMetadata</a></th><td>Reads layer configurations to take out some useful overall information</td></tr>
            <tr><th><a href="datum/greyscale_config.html#proc/Refresh">Refresh</a></th><td>Call this proc to handle all the data extraction from the json configuration. Can be forced to load values from disk instead of memory.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/expected_colors"><aside class="declaration">var </aside>expected_colors
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L37">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 37"/></a></h3>
        <p>How many colors are expected to be given when building the sprite</p><h3 id="var/height"><aside class="declaration">var </aside>height
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L25">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 25"/></a></h3>
        <p>Spritesheet height of the icon_file</p><h3 id="var/icon_cache"><aside class="declaration">var </aside>icon_cache
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L44">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 44"/></a></h3>
        <p>Generated icons keyed by their color arguments</p><h3 id="var/icon_file"><aside class="declaration">var </aside>icon_file
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L12">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 12"/></a></h3>
        <p>Reference to the dmi file for this config</p><h3 id="var/icon_states"><aside class="declaration">var </aside>icon_states
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L34">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 34"/></a></h3>
        <p>A list of icon states and their layers</p><h3 id="var/json_config"><aside class="declaration">var </aside>json_config
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L9">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 9"/></a></h3>
        <p>Reference to the json config file</p><h3 id="var/material_skin"><aside class="declaration">var </aside>material_skin
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/material.html">material</a></aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L16">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 16"/></a></h3>
        <p>An optional var to set that tells the material system what material this configuration is for.
Use a typepath here, not an instance.</p><h3 id="var/name"><aside class="declaration">var </aside>name
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L6">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 6"/></a></h3>
        <p>User friendly name used in the debug menu</p><h3 id="var/string_icon_file"><aside class="declaration">var </aside>string_icon_file
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L31">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 31"/></a></h3>
        <p>String path to the icon file, used for reloading</p><h3 id="var/string_json_config"><aside class="declaration">var </aside>string_json_config
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L28">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 28"/></a></h3>
        <p>String path to the json file, used for reloading</p><h3 id="var/width"><aside class="declaration">var </aside>width
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L22">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 22"/></a></h3>
        <p>Spritesheet width of the icon_file</p><h2 id="proc">Proc Details</h2><h3 id="proc/CrossVerify"><aside class="declaration">proc </aside>CrossVerify<aside>() 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L71">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 71"/></a></aside>
        </h3>
        <p>Called after every config has refreshed, this proc handles data verification that depends on multiple entwined configurations.</p><h3 id="proc/DebugName"><aside class="declaration">proc </aside>DebugName<aside>() 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L84">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 84"/></a></aside>
        </h3>
        <p>Gets the name used for debug purposes</p><h3 id="proc/Generate"><aside class="declaration">proc </aside>Generate<aside>(color_string) 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L159">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 159"/></a></aside>
        </h3>
        <p>Actually create the icon and color it in, handles caching</p><h3 id="proc/GenerateBundle"><aside class="declaration">proc </aside>GenerateBundle<aside>(/list/colors, /list/render_steps) 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L178">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 178"/></a></aside>
        </h3>
        <p>Handles the actual icon manipulation to create the spritesheet</p><h3 id="proc/GenerateLayerGroup"><aside class="declaration">proc </aside>GenerateLayerGroup<aside>(/list/colors, /list/group, /list/render_steps) 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L199">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 199"/></a></aside>
        </h3>
        <p>Internal recursive proc to handle nested layer groups</p><h3 id="proc/ReadIconStateConfiguration"><aside class="declaration">proc </aside>ReadIconStateConfiguration<aside>(/list/data) 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L89">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 89"/></a></aside>
        </h3>
        <p>Takes the json icon state configuration and puts it into a more processed format.</p><h3 id="proc/ReadLayersFromJson"><aside class="declaration">proc </aside>ReadLayersFromJson<aside>(/list/data) 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L101">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 101"/></a></aside>
        </h3>
        <p>Takes the json layers configuration and puts it into a more processed format</p><h3 id="proc/ReadMetadata"><aside class="declaration">proc </aside>ReadMetadata<aside>() 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L119">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 119"/></a></aside>
        </h3>
        <p>Reads layer configurations to take out some useful overall information</p><h3 id="proc/Refresh"><aside class="declaration">proc </aside>Refresh<aside>(loadFromDisk) 
        
    
            <a href="https://github.com/AetherStation/AetherStation13/blob/73b528b6815442f9d462741b5a955404a2d019c0/code/datums/greyscale/_greyscale_config.dm#L55">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;greyscale&#x2F;_greyscale_config.dm 55"/></a></aside>
        </h3>
        <p>Call this proc to handle all the data extraction from the json configuration. Can be forced to load values from disk instead of memory.</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/AetherStation/AetherStation13/tree/73b528b6815442f9d462741b5a955404a2d019c0">73b528b</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
